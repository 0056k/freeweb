<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8"> 
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
   <title>免费shadowsocks帐号</title>
   <link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">  
   <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
   <script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style>
        body {
            position: relative; 
        }

        #id_download {padding:50px 0px 30px 0px;color: #fff; background-color: #666699;}
        #id_account {padding:40px 0px 20px 0px;color: #fff; background-color: #6699CC;}
        #id_server {padding:40px 0px 20px 0px;color: #fff; background-color: #666699;}
        #id_donate {padding:40px 0px 20px 0px;color: #fff; background-color: #6699CC;}
        #id_contact {padding:40px 0px 40px 0px;color: #fff; background-color: #333333;}

    </style>
</head>

<body data-spy="scroll" data-target=".navbar" data-offset="30">

<nav class="navbar navbar-inverse navbar-fixed-top"  >
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                    data-target="#example-navbar-collapse">
                <span class="sr-only">切换导航</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">WantJr</a>
        </div>

        <div class="collapse navbar-collapse" id="example-navbar-collapse">
            <ul class="nav navbar-nav navbar-left">
                <li><a id="test1" href="#id_download"><span class="glyphicon glyphicon-download"/> 下载</a></li>
                <li><a href="#id_account"><span class="glyphicon glyphicon-log-in"><span> 帐号</a></li>
                <li><a href="#id_server"><span class="glyphicon glyphicon-log-in"><span> 搭建服务器</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        其他<b class="caret"></b>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#id_donate"><span class="glyphicon glyphicon-heart"><span> 小额捐助</a></li>
                        <li class="divider"></li>
                        <li><a href="#id_contact"><span class="glyphicon glyphicon-earphone"><span> 联系我们</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                {% if not user %}
                    <li><a href="#login" data-toggle="modal" ><span class="glyphicon glyphicon-log-in"><span> 登录/注册</a></li>
                {% else %}
                    <li><a href="/user" ><span class="glyphicon glyphicon-user"><span> {{ user }}</a></li>
                    <li><a href="/user?log_out=1" ><span class="glyphicon glyphicon-log-out"><span> 登出</a></li>
                {% end %}
            </ul>
        </div>

    </div>
</nav>


<!-- 模态框（Modal） -->
<div class="modal fade" id="login" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel" align="center"> 登录/注册 </h4>
            </div>
            <div class="modal-body" align="center">
                <!-- 可以静态缓存图片 
                    <img src="{{ static_url("1.jpg") }}" width="200 px" height="200 px"/>
                <form action="/login" >
                    <input type="text" name="account"/>
                <input type="submit" value="Post"/>
                -->
                <form action="/login" class="form-horizontal" role="form" method="post">
                  {% module xsrf_form_html() %}
                  {% if login_err %}
                  <p style="color:red"><strong>{{ login_err }}</strong></p>
                  {% end %}
                  <div class="form-group">
                    <label for="mail" class="col-xs-3 col-sm-3 control-label">用户 :</label>
                    <div class="col-xs-9 col-sm-6">
                      <input type="text" class="form-control" name="user" placeholder="邮箱 / 手机">
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="password" class="col-xs-3 col-sm-3 control-label">密码 :</label>
                    <div class="col-xs-9 col-sm-6">
                      <input type="text" class="form-control" name="password" placeholder="密码可以为空">
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="col-sm-offset-4 col-sm-4">
                      <button type="submit" class="btn btn-default"> 登录/注册 </button>
                    </div>
                  </div>
                </form>

            </div>
<!--
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
            </div>
-->
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>

<script>
</script>

<div id="id_download" >
    <h2><span class="glyphicon glyphicon-download"/> 客户端下载</h2>
    <hr/>
    <div class="row text-center" style="padding:0 50px 0 50px" >
        <div style="padding-top:0px" class="col-xs-6 col-xs-offset-1 col-sm-4 col-sm-offset-0">
            <a role="button" type="button" target="_blank" class="btn btn-default btn-lg" href="https://github.com/shadowsocks/shadowsocks-csharp/releases/download/2.5.6/Shadowsocks-win-2.5.6.zip"><span class="glyphicon glyphicon-download-alt"/> windows 客户端下载</a>
            <p  class="visible-xs">
        </div>

        <div style="padding-top:0px" class="col-xs-6 col-xs-offset-1 col-sm-4 col-sm-offset-0">
            <a role="button" type="button" class="btn btn-default btn-lg" href="http://pan.baidu.com/s/1eSuRbW2" target="_blank" ><span class="glyphicon glyphicon-download-alt"/> android 客户端下载</a>
            <p  class="visible-xs">
        </div>

        <div style="padding-top:0px" class="col-xs-6 col-xs-offset-1 col-sm-4 col-sm-offset-0">
            <a id="linux_download" role="button" type="button" class="btn btn-default btn-lg" href="javascript:void(0)" ><span class="glyphicon glyphicon-download-alt"/> linux 客户端下载</a>
            <p  class="visible-xs">
        </div>

    </div>
</div>

<div id="id_account">
    <h2 ><span class="glyphicon glyphicon-star-empty"/> 免费账号</h2>
    <hr>
    <div class="row"  style="font-size:16px;padding:0 50px 0 50px;" align="center">
        <div class="col-xs-12 col-sm-4 ">

            <div class="list-group" >
                <a href="javascript:void(0)" class="list-group-item " data-toggle="collapse" data-target="#account_sub1">
                    <h4 class="list-group-item-heading">
                        共享帐号
                    </h4>
                    <p class="list-group-item-text">
                        24小时变动一次
                    </p>
                </a>
                <div class="collapse in " id="account_sub1">
                    <a href="#" class="list-group-item"><p class="list-group-item-text">  服务器地址: wantjr.com</p></a>
                    <a href="#" class="list-group-item"><p class="list-group-item-text">  端口: {{ public_port }}</p></a>
                    <a href="#" class="list-group-item"><p class="list-group-item-text">  密码: {{ public_password }}</p></a>
                    <a href="#" class="list-group-item"><p class="list-group-item-text">  加密方式: aes-256</p></a>
                    <a href="#" class="list-group-item"><p class="list-group-item-text"> 状态: <span class="label label-success" style="center">正常</span></p></a>
                </div>
            </div>

        </div>
        <div class="col-xs-12 col-sm-4 ">
            <div class="list-group" >
                <a href="javascript:void(0)" class="list-group-item" data-toggle="collapse" data-target="#account_sub2">
                    <h4 class="list-group-item-heading">
                         登录用户
                    </h4>
                    <p class="list-group-item-text">
                        7天变动一次
                    </p>
                </a>
                {% if login_port %}
                <div class="collapse in" id="account_sub2">
                {% else %}
                <div class="collapse" id="account_sub2">
                {% end %}
                    <a href="#" class="list-group-item"><p class="list-group-item-text">  服务器地址: wantjr.com</p></a>
                    <a href="#" class="list-group-item"><p class="list-group-item-text">  端口: {{ login_port }}</p></a>
                    <a href="#" class="list-group-item"><p class="list-group-item-text">  密码: {{ login_password }}</p></a>
                    <a href="#" class="list-group-item"><p class="list-group-item-text">  加密方式: aes-256</p></a>
                {% if login_port %}
                    <a href="#" class="list-group-item"><p class="list-group-item-text"> 状态: <span class="label label-success" style="center">正常</span></p></a>
                {% else %}
                    <a href="#" class="list-group-item"><p class="list-group-item-text"> 状态: <span class="label label-warning" style="center">没有权限</span></p></a>
                {% end %}
                </div>
            </div>
        </div>
        <div class="col-xs-12 col-sm-4 ">
            <div class="list-group" >
                <a href="javascript:void(0)" class="list-group-item" data-toggle="collapse" data-target="#account_sub3">
                    <h4 class="list-group-item-heading">
                         捐助用户
                    </h4>
                    <p class="list-group-item-text">
                        1个月变动一次
                    </p>
                </a>
                {% if donate_port %}
                <div class="collapse in" id="account_sub3">
                {% else %}
                <div class="collapse" id="account_sub3">
                {% end %}
                    <a href="#" class="list-group-item"><p class="list-group-item-text">  服务器地址: wantjr.com</p></a>
                    <a href="#" class="list-group-item"><p class="list-group-item-text">  端口: {{ donate_port }}</p></a>
                    <a href="#" class="list-group-item"><p class="list-group-item-text">  密码: {{ donate_password }}</p></a>
                    <a href="#" class="list-group-item"><p class="list-group-item-text">  加密方式: aes-256</p></a>
                {% if donate_port %}
                    <a href="#" class="list-group-item"><p class="list-group-item-text"> 状态: <span class="label label-success" style="center">正常</span></p></a>
                {% else %}
                    <a href="#" class="list-group-item"><p class="list-group-item-text"> 状态: <span class="label label-warning" style="center">没有权限</span></p></a>
                {% end %}
                </div>
            </div>
        </div>
    </div>
</div>


<div id="id_server">
<h2><span class="glyphicon glyphicon-cloud"/> 搭建自己的服务器</h2>
<hr/>
<ul class="list-group" style="padding:0 50px 0 50px" >
     <a target="_blank" class="list-group-item" href="http://blog.chinaunix.net/uid-25530360-id-5595974.html">
        <span class="glyphicon glyphicon-link"/> <strong>科学上网：用VPS搭建 shadowsocks 服务器</a></strong>
     <a target="_blank" class="list-group-item" href="http://www.chinagfw.org/2016/10/linux-shadowsocks.html">
        <span class="glyphicon glyphicon-link"/><strong> GFW BLOG（功夫网与翻墙）</a> </strong>
</ul>
</div>

<div id="id_donate" >
<h2><span class="glyphicon glyphicon-heart"/> 小额捐助</h2>
<hr/>
    <ul class="list-group" style="padding:0 50px 0 50px" >
         <a class="list-group-item" href="javascript:void(0);" id="1">
            <span class="glyphicon glyphicon-credit-card"/><strong> 1元</a></strong>
         <a  class="list-group-item" href="javascript:void(0);" id="2">
            <span class="glyphicon glyphicon-credit-card"/><strong> 2元</a> </strong>
         <a  class="list-group-item" href="javascript:void(0);" id="5">
            <span class="glyphicon glyphicon-credit-card"/><strong> 5元</a> </strong>
    </ul>
</div>

<div id="id_contact" class="container-fluid" >
    <h2><span class="glyphicon glyphicon-earphone"/> 联系我们</h2>
    <hr/>
    <ul class="list-group" style="padding:0 50px 0 50px" >
         <a class="list-group-item" href="">
            <span class="glyphicon glyphicon-user"/><strong> 联系人:小姚</a> </strong>
         <a class="list-group-item" href="">
            <span class="glyphicon glyphicon-send"/><strong> 邮件:yaodongen@sina.com</a></strong>
    </ul>
</div>

<script>
    function getCookie(c_name){
    　　　　if (document.cookie.length>0){
    　　　　　　c_start=document.cookie.indexOf(c_name + "=")
    　　　　　　if (c_start!=-1){ 
    　　　　　　　　c_start=c_start + c_name.length+1
    　　　　　　　　c_end=document.cookie.indexOf(";",c_start)　　
    　　　　　　　　if (c_end==-1) c_end=document.cookie.length　　
    　　　　　　　　return unescape(document.cookie.substring(c_start,c_end))　　
    　　　　　　} 
    　　　　}
    　　　　return ""
    }
    // 原来显示的页面
    var old_myModalLabel = document.getElementById("myModalLabel").innerHTML;
    $('#id_donate *').click(function(e){
        if(!getCookie("user")){
            document.getElementById("myModalLabel").innerHTML="请先登录哦" ;
            $('#login').modal('show');
        }
        else{
            window.location.href='/donate?'+e.target.id;
        }
    })
    $('#login').on('hidden.bs.modal',
        function() {
            document.getElementById("myModalLabel").innerHTML=old_myModalLabel;
            window.location.href='/'
        })
    var old_linux_download;
    $('#linux_download').click(function(e){
        if(e.target.outerHTML=="<code>sudo apt-get install shadowsocks</code>"){
            e.target.outerHTML=old_linux_download;
        }
        else{
            old_linux_download=e.target.outerHTML;
            e.target.outerHTML="<code>sudo apt-get install shadowsocks</code>"
        }
    })
    {% if login_err %}
        $('#login').modal('show');    
    {% end %}


</script>


</body>
</html>
